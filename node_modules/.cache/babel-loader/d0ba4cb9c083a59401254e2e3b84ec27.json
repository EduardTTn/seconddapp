{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/ed/seconddapp/pages/RequestsCompany.js\";\nimport React, { Component } from 'react';\nimport Head from \"next/head\";\nimport { Button, Card, Container, Form, Icon, Message, Segment, Table } from \"semantic-ui-react\";\nimport FixedMenuLayout from \"../components/footer\";\nimport instance from \"../components/verifier.js\";\nimport web3 from '../components/web3.js';\n\nvar RequestsCompany =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RequestsCompany, _Component);\n\n  function RequestsCompany(props) {\n    var _this;\n\n    _classCallCheck(this, RequestsCompany);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RequestsCompany).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"approveRequestJob\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(event) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                event.preventDefault();\n                _context.next = 3;\n                return instance.methods.approveRequestJob(event.target.value).send({\n                  from: _this.state.accounts[0]\n                }).once('receipt', function (receipt) {\n                  _this.setState({\n                    loading: false\n                  });\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      jobz: [],\n      isCompany: false,\n      isInstitution: false,\n      accounts: [],\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(RequestsCompany, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadBlockchainData();\n    }\n  }, {\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var x, i, z;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = this;\n                _context2.next = 3;\n                return web3.eth.getAccounts();\n\n              case 3:\n                _context2.t1 = _context2.sent;\n                _context2.t2 = {\n                  accounts: _context2.t1\n                };\n\n                _context2.t0.setState.call(_context2.t0, _context2.t2);\n\n                _context2.t3 = this;\n                _context2.next = 9;\n                return web3.eth.getAccounts();\n\n              case 9:\n                _context2.t4 = _context2.sent;\n                _context2.t5 = {\n                  accounts: _context2.t4\n                };\n\n                _context2.t3.setState.call(_context2.t3, _context2.t5);\n\n                _context2.next = 14;\n                return instance.methods.getJobRequestCount(this.state.accounts[0]).call();\n\n              case 14:\n                x = _context2.sent;\n                _context2.prev = 15;\n                i = 0;\n\n              case 17:\n                if (!(i < x)) {\n                  _context2.next = 25;\n                  break;\n                }\n\n                _context2.next = 20;\n                return instance.methods.getJobRequest(this.state.accounts[0], i).call();\n\n              case 20:\n                z = _context2.sent;\n                this.setState({\n                  jobz: [].concat(_toConsumableArray(this.state.jobz), [z])\n                });\n\n              case 22:\n                i++;\n                _context2.next = 17;\n                break;\n\n              case 25:\n                _context2.next = 30;\n                break;\n\n              case 27:\n                _context2.prev = 27;\n                _context2.t6 = _context2[\"catch\"](15);\n                this.setState({\n                  errorMessage: _context2.t6.message\n                });\n\n              case 30:\n                this.setState({\n                  loading: false\n                });\n\n              case 31:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[15, 27]]);\n      }));\n\n      function loadBlockchainData() {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }, {\n    key: \"renderButtons\",\n    value: function renderButtons() {\n      for (var index = 0; index < this.state.jobz.length; index++) {\n        return React.createElement(Button, {\n          onClick: this.approveRequestJob(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          color: \"black\",\n          name: \"check\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }));\n      }\n    }\n  }, {\n    key: \"renderJobRequests\",\n    value: function renderJobRequests() {\n      var x = this.state.accounts[0];\n      var r = this.state.jobz.map(function (job, index) {\n        return [React.createElement(Table.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(Table.Cell, {\n          key: x,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, job[2].toString()), React.createElement(Table.Cell, {\n          key: x,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, job[0].toString()), React.createElement(Table.Cell, {\n          key: x,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, job[1].toString()), React.createElement(Table.Cell, {\n          key: x,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, job[3].toString()), React.createElement(Button, {\n          onClick: this.approveRequestJob,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          color: \"black\",\n          name: \"close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        })))];\n      });\n      return r;\n    }\n  }, {\n    key: \"renderJobRequestsTables\",\n    value: function renderJobRequestsTables() {\n      var tableStyle = {\n        width: '45%',\n        margin: '30px auto'\n      };\n\n      if (this.state.jobz && this.state.jobz.length) {\n        return React.createElement(Table, {\n          celled: true,\n          style: tableStyle,\n          color: 'blue',\n          key: 'blue',\n          inverted: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(Table.Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, React.createElement(Segment, {\n          inverted: true,\n          color: \"blue\",\n          style: {\n            textalign: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, \"Requests\")), React.createElement(Table.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, \" SSN\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, \"Months Worked\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, \"Position\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, \"Requester\"), React.createElement(Table.HeaderCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, \"Validate\"))), React.createElement(Table.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, this.renderJobRequests(), this.renderButtons()));\n      } else return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('address:', this.state.accounts[0]);\n      console.log('company:', this.state.loading);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.11/semantic.min.css\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"style\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"\\n        body {\\n         background: url(\\\"https://images.unsplash.com/photo-1511649475669-e288648b2339?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2089&q=80\\\");\\n         background-repeat: no-repeat;\\n         background-position: center; \\n         background-attachment: fixed;\\n        }\\n      \")), React.createElement(\"div\", {\n        style: {\n          margin: '150px auto'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, this.renderJobRequestsTables()), React.createElement(FixedMenuLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RequestsCompany;\n}(Component);\n\nexport default RequestsCompany;","map":{"version":3,"sources":["/home/ed/seconddapp/pages/RequestsCompany.js"],"names":["React","Component","Head","Button","Card","Container","Form","Icon","Message","Segment","Table","FixedMenuLayout","instance","web3","RequestsCompany","props","event","preventDefault","methods","approveRequestJob","target","value","send","from","state","accounts","once","receipt","setState","loading","jobz","isCompany","isInstitution","loadBlockchainData","eth","getAccounts","getJobRequestCount","call","x","i","getJobRequest","z","errorMessage","message","index","length","r","map","job","toString","tableStyle","width","margin","textalign","renderJobRequests","renderButtons","console","log","renderJobRequestsTables"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAAQC,MAAR,EAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,IAAjC,EAAuCC,IAAvC,EAA6CC,OAA7C,EAAsDC,OAAtD,EAA+DC,KAA/D,QAA2E,mBAA3E;AACA,OAAOC,eAAP,MAA4B,sBAA5B;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;;IAGMC,e;;;;;AAEF,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,yFAAMA,KAAN;;AADe;AAAA;AAAA;AAAA;AAAA;AAAA,+BAqCC,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAChBA,gBAAAA,KAAK,CAACC,cAAN;AADgB;AAAA,uBAEVL,QAAQ,CAACM,OAAT,CAAiBC,iBAAjB,CAAmCH,KAAK,CAACI,MAAN,CAAaC,KAAhD,EAAuDC,IAAvD,CAA4D;AAACC,kBAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWC,QAAX,CAAoB,CAApB;AAAP,iBAA5D,EACDC,IADC,CACI,SADJ,EACe,UAACC,OAAD,EAAa;AAC1B,wBAAKC,QAAL,CAAc;AAACC,oBAAAA,OAAO,EAAE;AAAV,mBAAd;AACH,iBAHC,CAFU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OArCD;;AAAA;AAAA;AAAA;AAAA;;AAEf,UAAKL,KAAL,GAAa;AACTM,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,SAAS,EAAE,KAFF;AAGTC,MAAAA,aAAa,EAAE,KAHN;AAITP,MAAAA,QAAQ,EAAE,EAJD;AAKTI,MAAAA,OAAO,EAAE;AALA,KAAb;AAFe;AAWlB;;;;wCAEmB;AAChB,WAAKI,kBAAL;AACH;;;;;;;;;;;;+BAGG,I;;uBAA+BpB,IAAI,CAACqB,GAAL,CAASC,WAAT,E;;;;;AAAhBV,kBAAAA,Q;;;6BAAVG,Q;;+BACL,I;;uBAA+Bf,IAAI,CAACqB,GAAL,CAASC,WAAT,E;;;;;AAAhBV,kBAAAA,Q;;;6BAAVG,Q;;;uBACWhB,QAAQ,CAACM,OAAT,CAAiBkB,kBAAjB,CAAoC,KAAKZ,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAApC,EAA4DY,IAA5D,E;;;AAAVC,gBAAAA,C;;AAGOC,gBAAAA,C,GAAI,C;;;sBAAGA,CAAC,GAAGD,C;;;;;;uBACF1B,QAAQ,CAACM,OAAT,CAAiBsB,aAAjB,CAA+B,KAAKhB,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAA/B,EAAuDc,CAAvD,EAA0DF,IAA1D,E;;;AAAVI,gBAAAA,C;AAEJ,qBAAKb,QAAL,CAAc;AAACE,kBAAAA,IAAI,+BAAM,KAAKN,KAAL,CAAWM,IAAjB,IAAuBW,CAAvB;AAAL,iBAAd;;;AAHmBF,gBAAAA,CAAC,E;;;;;;;;;;;AAQxB,qBAAKX,QAAL,CAAc;AAACc,kBAAAA,YAAY,EAAE,aAAIC;AAAnB,iBAAd;;;AAEJ,qBAAKf,QAAL,CAAc;AAACC,kBAAAA,OAAO,EAAE;AAAV,iBAAd;;;;;;;;;;;;;;;;;;oCAYY;AAGZ,WAAK,IAAIe,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG,KAAKpB,KAAL,CAAWM,IAAX,CAAgBe,MAA5C,EAAoDD,KAAK,EAAzD,EAA4D;AACxD,eAAO,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,KAAvB,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgD,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAC,OAAZ;AAAoB,UAAA,IAAI,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAhD,CAAP;AAGP;AACA;;;wCAIG;AAGI,UAAMN,CAAC,GAAG,KAAKd,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAV;AAEA,UAAIqB,CAAC,GAAG,KAAKtB,KAAL,CAAWM,IAAX,CAAgBiB,GAAhB,CAAoB,UAAUC,GAAV,EAAeJ,KAAf,EAAsB;AAE9C,eAAO,CAAC,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACJ,oBAAC,KAAD,CAAO,IAAP;AAAY,UAAA,GAAG,EAAEN,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBU,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,EAArB,CADI,EAEJ,oBAAC,KAAD,CAAO,IAAP;AAAY,UAAA,GAAG,EAAEX,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBU,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,EAArB,CAFI,EAGJ,oBAAC,KAAD,CAAO,IAAP;AAAY,UAAA,GAAG,EAAEX,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBU,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,EAArB,CAHI,EAIJ,oBAAC,KAAD,CAAO,IAAP;AAAY,UAAA,GAAG,EAAEX,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAqBU,GAAG,CAAC,CAAD,CAAH,CAAOC,QAAP,EAArB,CAJI,EAKJ,oBAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,KAAK9B,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAyC,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAC,OAAZ;AAAoB,UAAA,IAAI,EAAC,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAzC,CALI,CAAD,CAAP;AAOH,OATO,CAAR;AAWA,aAAO2B,CAAP;AACH;;;8CAGD;AAEI,UAAII,UAAU,GAAG;AACbC,QAAAA,KAAK,EAAE,KADM;AAEbC,QAAAA,MAAM,EAAE;AAFK,OAAjB;;AAMA,UAAI,KAAK5B,KAAL,CAAWM,IAAX,IAAmB,KAAKN,KAAL,CAAWM,IAAX,CAAgBe,MAAvC,EAA+C;AAC3C,eAAQ,oBAAC,KAAD;AAAO,UAAA,MAAM,MAAb;AAAc,UAAA,KAAK,EAAEK,UAArB;AAAiC,UAAA,KAAK,EAAE,MAAxC;AAAgD,UAAA,GAAG,EAAE,MAArD;AAA6D,UAAA,QAAQ,MAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEA,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,OAAD;AAAS,UAAA,QAAQ,MAAjB;AAAkB,UAAA,KAAK,EAAC,MAAxB;AAA+B,UAAA,KAAK,EAAE;AAACG,YAAAA,SAAS,EAAE;AAAZ,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAA7D,CADJ,EAEI,oBAAC,KAAD,CAAO,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAFJ,EAGI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHJ,EAII,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJJ,EAKI,oBAAC,KAAD,CAAO,UAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ,CAFJ,CAFA,EAYA,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK,KAAKC,iBAAL,EADL,EAEK,KAAKC,aAAL,EAFL,CAZA,CAAR;AAmBH,OApBD,MAoBO,OAAO,IAAP;AACV;;;6BAID;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKjC,KAAL,CAAWC,QAAX,CAAoB,CAApB,CAAxB;AACA+B,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,KAAKjC,KAAL,CAAWK,OAAnC;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAGI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,GAAG,EAAC,YADR;AAEI,QAAA,IAAI,EAAC,sEAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8UALJ,CAHJ,EAkBI;AAAK,QAAA,KAAK,EAAE;AAACuB,UAAAA,MAAM,EAAE;AAAT,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqC,KAAKM,uBAAL,EAArC,CAlBJ,EAmBI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAnBJ,CADJ;AAyBH;;;;EA5IqBzD,S;;AA+I1B,eAEAa,eAFA","sourcesContent":["import React, {Component} from 'react';\nimport Head from \"next/head\";\nimport {Button, Card, Container, Form, Icon, Message, Segment, Table} from \"semantic-ui-react\";\nimport FixedMenuLayout from \"../components/footer\";\nimport instance from \"../components/verifier.js\";\nimport web3 from '../components/web3.js';\n\n\nclass RequestsCompany extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            jobz: [],\n            isCompany: false,\n            isInstitution: false,\n            accounts: [],\n            loading: false\n        };\n\n\n    }\n\n    componentDidMount() {\n        this.loadBlockchainData()\n    }\n\n    async loadBlockchainData() {\n        this.setState({accounts: await web3.eth.getAccounts()});\n        this.setState({accounts: await web3.eth.getAccounts()});\n        const x = await instance.methods.getJobRequestCount(this.state.accounts[0]).call();\n\n        try {\n            for (let i = 0; i < x; i++) {\n                let z = await instance.methods.getJobRequest(this.state.accounts[0], i).call();\n\n                this.setState({jobz: [...this.state.jobz, z]});\n\n\n            }\n        } catch (err) {\n            this.setState({errorMessage: err.message});\n        }\n        this.setState({loading: false});\n    }\n\n\n    approveRequestJob = async event => {\n        event.preventDefault();\n        await instance.methods.approveRequestJob(event.target.value).send({from: this.state.accounts[0]})\n            .once('receipt', (receipt) => {\n                this.setState({loading: false})\n            });\n    };\n\n    renderButtons() {\n\n\n        for (let index = 0; index < this.state.jobz.length; index++){\n            return(<Button onClick={this.approveRequestJob(index)}><Icon color='black' name='check'/></Button>\n    )\n        ;\n    }\n    }\n\n\n        renderJobRequests()\n        {\n\n\n            const x = this.state.accounts[0];\n\n            let r = this.state.jobz.map(function (job, index) {\n\n                return [<Table.Row>\n                    <Table.Cell key={x}>{job[2].toString()}</Table.Cell>\n                    <Table.Cell key={x}>{job[0].toString()}</Table.Cell>\n                    <Table.Cell key={x}>{job[1].toString()}</Table.Cell>\n                    <Table.Cell key={x}>{job[3].toString()}</Table.Cell>\n                    <Button onClick={this.approveRequestJob}><Icon color='black' name='close'/></Button>\n                </Table.Row>];\n            });\n\n            return r;\n        }\n\n        renderJobRequestsTables()\n        {\n\n            let tableStyle = {\n                width: '45%',\n                margin: '30px auto'\n            };\n\n\n            if (this.state.jobz && this.state.jobz.length) {\n                return (<Table celled style={tableStyle} color={'blue'} key={'blue'} inverted>\n\n                        <Table.Header>\n                            <Segment inverted color=\"blue\" style={{textalign: 'center'}}><h2>Requests</h2></Segment>\n                            <Table.Row>\n                                <Table.HeaderCell> SSN</Table.HeaderCell>\n                                <Table.HeaderCell>Months Worked</Table.HeaderCell>\n                                <Table.HeaderCell>Position</Table.HeaderCell>\n                                <Table.HeaderCell>Requester</Table.HeaderCell>\n                                <Table.HeaderCell>Validate</Table.HeaderCell>\n                            </Table.Row>\n                        </Table.Header>\n                        <Table.Body>\n                            {this.renderJobRequests()}\n                            {this.renderButtons()}\n\n                        </Table.Body>\n                    </Table>\n                );\n            } else return null;\n        }\n\n\n        render()\n        {\n            console.log('address:', this.state.accounts[0]);\n            console.log('company:', this.state.loading);\n            return (\n                <div>\n                    <div></div>\n\n                    <Head>\n                        <link\n                            rel=\"stylesheet\"\n                            href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.11/semantic.min.css\"\n                        />\n                        <style>{`\n        body {\n         background: url(\"https://images.unsplash.com/photo-1511649475669-e288648b2339?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2089&q=80\");\n         background-repeat: no-repeat;\n         background-position: center; \n         background-attachment: fixed;\n        }\n      `}</style>\n                    </Head>\n\n                    <div style={{margin: '150px auto'}}>{this.renderJobRequestsTables()}</div>\n                    <FixedMenuLayout/>\n                </div>\n            );\n\n\n        }\n    }\n\n    export\n    default\n    RequestsCompany;"]},"metadata":{},"sourceType":"module"}